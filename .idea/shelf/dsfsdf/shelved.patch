Index: app/src/main/java/sh/siava/pixelxpert/modpacks/systemui/DepthWallpaper.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package sh.siava.pixelxpert.modpacks.systemui;\r\n\r\nimport static android.view.View.GONE;\r\nimport static android.view.View.VISIBLE;\r\nimport static de.robv.android.xposed.XposedBridge.hookAllConstructors;\r\nimport static de.robv.android.xposed.XposedBridge.hookAllMethods;\r\nimport static de.robv.android.xposed.XposedHelpers.callMethod;\r\nimport static de.robv.android.xposed.XposedHelpers.findClass;\r\nimport static de.robv.android.xposed.XposedHelpers.findClassIfExists;\r\nimport static de.robv.android.xposed.XposedHelpers.getFloatField;\r\nimport static de.robv.android.xposed.XposedHelpers.getObjectField;\r\nimport static sh.siava.pixelxpert.modpacks.XPrefs.Xprefs;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.WallpaperManager;\r\nimport android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Color;\r\nimport android.graphics.Rect;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.graphics.drawable.LayerDrawable;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.WindowManager;\r\nimport android.widget.FrameLayout;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.util.Arrays;\r\n\r\nimport de.robv.android.xposed.XC_MethodHook;\r\nimport de.robv.android.xposed.callbacks.XC_LoadPackage;\r\nimport sh.siava.pixelxpert.modpacks.Constants;\r\nimport sh.siava.pixelxpert.modpacks.XPLauncher;\r\nimport sh.siava.pixelxpert.modpacks.XposedModPack;\r\n\r\n/** @noinspection RedundantThrows*/\r\npublic class DepthWallpaper extends XposedModPack {\r\n\tprivate static final String listenPackage = Constants.SYSTEM_UI_PACKAGE;\r\n\tprivate static boolean lockScreenSubjectCacheValid = false;\r\n\tprivate Object mScrimController;\r\n\tprivate static boolean DWallpaperEnabled = false;\r\n\tprivate static int DWOpacity = 192;\r\n\r\n\tprivate static boolean DWonAOD = false;\r\n\tprivate FrameLayout mLockScreenSubject;\r\n\tprivate Drawable mSubjectDimmingOverlay;\r\n\tprivate FrameLayout mWallpaperBackground;\r\n\tprivate FrameLayout mWallpaperBitmapContainer;\r\n\tprivate FrameLayout mWallpaperDimmingOverlay;\r\n\tprivate boolean mLayersCreated = false;\r\n\tpublic DepthWallpaper(Context context) {\r\n\t\tsuper(context);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updatePrefs(String... Key) {\r\n\t\tDWallpaperEnabled = Xprefs.getBoolean(\"DWallpaperEnabled\", false);\r\n\t\tDWOpacity = Xprefs.getSliderInt(\"DWOpacity\", 192);\r\n\t\tDWonAOD = Xprefs.getBoolean(\"DWonAOD\", false);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handleLoadPackage(XC_LoadPackage.LoadPackageParam lpParam) throws Throwable {\r\n\t\tClass<?> QSImplClass = findClassIfExists(\"com.android.systemui.qs.QSImpl\", lpParam.classLoader);\r\n\t\tif(QSImplClass == null) //Older versions of QS\r\n\t\t{\r\n\t\t\tQSImplClass = findClass(\"com.android.systemui.qs.QSFragment\", lpParam.classLoader);\r\n\t\t}\r\n\r\n\t\tClass<?> CanvasEngineClass = findClass(\"com.android.systemui.wallpapers.ImageWallpaper$CanvasEngine\", lpParam.classLoader);\r\n\t\tClass<?> CentralSurfacesImplClass = findClass(\"com.android.systemui.statusbar.phone.CentralSurfacesImpl\", lpParam.classLoader);\r\n\t\tClass<?> ScrimControllerClass = findClass(\"com.android.systemui.statusbar.phone.ScrimController\", lpParam.classLoader);\r\n\t\tClass<?> ScrimViewClass = findClass(\"com.android.systemui.scrim.ScrimView\", lpParam.classLoader);\r\n\r\n\t\thookAllMethods(ScrimViewClass, \"setViewAlpha\", new XC_MethodHook() {\r\n\t\t\t@Override\r\n\t\t\tprotected void beforeHookedMethod(MethodHookParam param) throws Throwable {\r\n\t\t\t\tif(!mLayersCreated) return;\r\n\r\n\t\t\t\tif(DWonAOD\r\n\t\t\t\t\t\t&& !getObjectField(mScrimController, \"mState\").toString().equals(\"KEYGUARD\")) {\r\n\t\t\t\t\tmLockScreenSubject.post(() -> mLockScreenSubject.setAlpha(DWOpacity));\r\n\t\t\t\t}\r\n\t\t\t\telse if(getObjectField(mScrimController, \"mNotificationsScrim\").equals(param.thisObject)) //instead of using the mScrimName since older ones don't have that field\r\n\t\t\t\t{\r\n\t\t\t\t\tfloat mScrimBehindAlphaKeyguard = getFloatField(mScrimController, \"mScrimBehindAlphaKeyguard\");\r\n\r\n\t\t\t\t\tfloat notificationAlpha = (float)param.args[0];\r\n\r\n\t\t\t\t\tif(notificationAlpha < mScrimBehindAlphaKeyguard)\r\n\t\t\t\t\t\tnotificationAlpha = 0;\r\n\r\n\t\t\t\t\tfloat subjectAlpha = (notificationAlpha > mScrimBehindAlphaKeyguard)\r\n\t\t\t\t\t\t\t? (1f - notificationAlpha) / (1f - mScrimBehindAlphaKeyguard)\r\n\t\t\t\t\t\t\t: 1f;\r\n\r\n\t\t\t\t\tmLockScreenSubject.post(() -> mLockScreenSubject.setAlpha(subjectAlpha));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thookAllMethods(CentralSurfacesImplClass, \"start\", new XC_MethodHook() {\r\n\t\t\t@Override\r\n\t\t\tprotected void afterHookedMethod(MethodHookParam param) throws Throwable {\r\n\t\t\t\tif(!DWallpaperEnabled) return;\r\n\r\n\t\t\t\tView scrimBehind = (View) getObjectField(mScrimController, \"mScrimBehind\");\r\n\t\t\t\tViewGroup rootView = (ViewGroup) scrimBehind.getParent();\r\n\r\n\t\t\t\t@SuppressLint(\"DiscouragedApi\")\r\n\t\t\t\tViewGroup targetView = rootView.findViewById(mContext.getResources().getIdentifier(\"notification_container_parent\", \"id\", mContext.getPackageName()));\r\n\r\n\t\t\t\tif(!mLayersCreated) {\r\n\t\t\t\t\tcreateLayers();\r\n\t\t\t\t}\r\n\r\n\t\t\t\trootView.addView(mWallpaperBackground, 0);\r\n\r\n\t\t\t\ttargetView.addView(mLockScreenSubject,1);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thookAllMethods(CanvasEngineClass, \"onSurfaceDestroyed\", new XC_MethodHook() { //lockscreen wallpaper changed\r\n\t\t\t@Override\r\n\t\t\tprotected void afterHookedMethod(MethodHookParam param) throws Throwable {\r\n\t\t\t\tif(DWallpaperEnabled && isLockScreenWallpaper(param.thisObject))\r\n\t\t\t\t{\r\n\t\t\t\t\tinvalidateLSWSC();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thookAllMethods(CanvasEngineClass, \"onCreate\", new XC_MethodHook() {\r\n\t\t\t@Override\r\n\t\t\tprotected void afterHookedMethod(MethodHookParam param) throws Throwable {\r\n\t\t\t\tif(\r\n\t\t\t\t\t\tcallMethod(\r\n\t\t\t\t\t\t\t\tgetObjectField(param.thisObject, \"mWallpaperManager\"),\r\n\t\t\t\t\t\t\t\t\"getWallpaperInfo\", WallpaperManager.FLAG_LOCK)\r\n\t\t\t\t\t\t\t\t!= null) //it's live wallpaper. we can't use that\r\n\t\t\t\t{\r\n\t\t\t\t\tinvalidateLSWSC();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thookAllMethods(CanvasEngineClass, \"drawFrameOnCanvas\", new XC_MethodHook() {\r\n\t\t\t@Override\r\n\t\t\tprotected void afterHookedMethod(MethodHookParam param) throws Throwable {\r\n\t\t\t\tif(DWallpaperEnabled && isLockScreenWallpaper(param.thisObject))\r\n\t\t\t\t{\r\n\t\t\t\t\tBitmap wallpaperBitmap = Bitmap.createBitmap((Bitmap) param.args[0]);\r\n\r\n\t\t\t\t\tboolean cacheIsValid = assertCache(wallpaperBitmap);\r\n\r\n\t\t\t\t\tRect displayBounds =  ((Context) callMethod(param.thisObject, \"getDisplayContext\")).getSystemService(WindowManager.class)\r\n\t\t\t\t\t\t\t.getCurrentWindowMetrics()\r\n\t\t\t\t\t\t\t.getBounds();\r\n\r\n\t\t\t\t\tfloat ratioW = 1f * displayBounds.width() / wallpaperBitmap.getWidth();\r\n\t\t\t\t\tfloat ratioH = 1f * displayBounds.height() / wallpaperBitmap.getHeight();\r\n\r\n\t\t\t\t\tint desiredHeight = Math.round(Math.max(ratioH, ratioW) * wallpaperBitmap.getHeight());\r\n\t\t\t\t\tint desiredWidth = Math.round(Math.max(ratioH, ratioW) * wallpaperBitmap.getWidth());\r\n\r\n\t\t\t\t\tint xPixelShift = (desiredWidth - displayBounds.width()) / 2;\r\n\t\t\t\t\tint yPixelShift = (desiredHeight - displayBounds.height()) / 2;\r\n\r\n\t\t\t\t\tBitmap scaledWallpaperBitmap = Bitmap.createScaledBitmap(wallpaperBitmap, desiredWidth, desiredHeight, true);\r\n\r\n\t\t\t\t\t//crop to display bounds\r\n\t\t\t\t\tscaledWallpaperBitmap = Bitmap.createBitmap(scaledWallpaperBitmap, xPixelShift, yPixelShift, displayBounds.width(), displayBounds.height());\r\n\t\t\t\t\tBitmap finalScaledWallpaperBitmap = scaledWallpaperBitmap;\r\n\r\n\t\t\t\t\tif(!mLayersCreated) {\r\n\t\t\t\t\t\tcreateLayers();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmWallpaperBackground.post(() -> mWallpaperBitmapContainer.setBackground(new BitmapDrawable(mContext.getResources(), finalScaledWallpaperBitmap)));\r\n\r\n\t\t\t\t\tif(!cacheIsValid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tXPLauncher.enqueueProxyCommand(proxy -> proxy.extractSubject(finalScaledWallpaperBitmap, Constants.getLockScreenSubjectCachePath(mContext)));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thookAllConstructors(ScrimControllerClass, new XC_MethodHook() {\r\n\t\t\t@Override\r\n\t\t\tprotected void afterHookedMethod(MethodHookParam param) throws Throwable {\r\n\t\t\t\tmScrimController = param.thisObject;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thookAllMethods(ScrimControllerClass, \"applyAndDispatchState\", new XC_MethodHook() {\r\n\t\t\t@Override\r\n\t\t\tprotected void afterHookedMethod(MethodHookParam param) throws Throwable {\r\n\t\t\t\tsetDepthWallpaper();\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thookAllMethods(QSImplClass, \"setQsExpansion\", new XC_MethodHook() {\r\n\t\t\t@Override\r\n\t\t\tprotected void beforeHookedMethod(MethodHookParam param) throws Throwable {\r\n\t\t\t\tif((boolean) callMethod(param.thisObject, \"isKeyguardState\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tsetDepthWallpaper();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate boolean assertCache(Bitmap wallpaperBitmap) {\r\n\r\n\t\tboolean cacheIsValid = false;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tFile wallpaperCacheFile = new File(Constants.getLockScreenBitmapCachePath(mContext));\r\n\r\n\t\t\tByteArrayOutputStream compressedBitmap = new ByteArrayOutputStream();\r\n\t\t\twallpaperBitmap.compress(Bitmap.CompressFormat.JPEG, 100, compressedBitmap);\r\n\t\t\tif(wallpaperCacheFile.exists())\r\n\t\t\t{\r\n\t\t\t\tFileInputStream cacheStream = new FileInputStream(wallpaperCacheFile);\r\n\r\n\t\t\t\tif(Arrays.equals(cacheStream.readAllBytes(), compressedBitmap.toByteArray()))\r\n\t\t\t\t{\r\n\t\t\t\t\tcacheIsValid = true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tFileOutputStream newCacheStream = new FileOutputStream(wallpaperCacheFile);\r\n\t\t\t\t\tcompressedBitmap.writeTo(newCacheStream);\r\n\t\t\t\t\tnewCacheStream.close();\r\n\t\t\t\t}\r\n\t\t\t\tcacheStream.close();\r\n\t\t\t}\r\n\t\t\tcompressedBitmap.close();\r\n\t\t}\r\n\t\tcatch (Throwable ignored)\r\n\t\t{}\r\n\r\n\t\tif(!cacheIsValid)\r\n\t\t{\r\n\t\t\tinvalidateLSWSC();\r\n\t\t}\r\n\r\n\t\treturn cacheIsValid;\r\n\t}\r\n\r\n\tprivate void createLayers() {\r\n\t\tmWallpaperBackground = new FrameLayout(mContext);\r\n\t\tmWallpaperDimmingOverlay = new FrameLayout(mContext);\r\n\t\tmWallpaperBitmapContainer = new FrameLayout(mContext);\r\n\t\tFrameLayout.LayoutParams lpw = new FrameLayout.LayoutParams(-1, -1);\r\n\r\n\t\tmWallpaperDimmingOverlay.setBackgroundColor(Color.BLACK);\r\n\t\tmWallpaperDimmingOverlay.setLayoutParams(lpw);\r\n\t\tmWallpaperBitmapContainer.setLayoutParams(lpw);\r\n\r\n\t\tmWallpaperBackground.addView(mWallpaperBitmapContainer);\r\n\t\tmWallpaperBackground.addView(mWallpaperDimmingOverlay);\r\n\t\tmWallpaperBackground.setLayoutParams(lpw);\r\n\r\n\t\tmLockScreenSubject = new FrameLayout(mContext);\r\n\t\tFrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(-1, -1);\r\n\t\tmLockScreenSubject.setLayoutParams(lp);\r\n\r\n\t\tmLayersCreated = true;\r\n\t}\r\n\r\n\tprivate boolean isLockScreenWallpaper(Object canvasEngine)\r\n\t{\r\n\t\treturn (getWallpaperFlag(canvasEngine)\r\n\t\t\t\t& WallpaperManager.FLAG_LOCK)\r\n\t\t\t\t== WallpaperManager.FLAG_LOCK;\r\n\t}\r\n\tprivate void setDepthWallpaper()\r\n\t{\r\n\t\tString state = getObjectField(mScrimController, \"mState\").toString();\r\n\t\tboolean showSubject = DWallpaperEnabled\r\n\t\t\t\t&&\r\n\t\t\t\t(\r\n\t\t\t\t\t\tstate.equals(\"KEYGUARD\")\r\n\t\t\t\t\t\t||\r\n\t\t\t\t\t\t\t\t(DWonAOD\r\n\t\t\t\t\t\t\t\t\t\t&&\r\n\t\t\t\t\t\t\t\t\t\t(state.equals(\"AOD\") || state.equals(\"PULSING\"))\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t);\r\n\r\n\t\tif(showSubject) {\r\n\t\t\tif(!lockScreenSubjectCacheValid && new File(Constants.getLockScreenSubjectCachePath(mContext)).exists())\r\n\t\t\t{\r\n\t\t\t\ttry (FileInputStream inputStream = new FileInputStream(Constants.getLockScreenSubjectCachePath(mContext)))\r\n\t\t\t\t{\r\n\t\t\t\t\tDrawable bitmapDrawable = BitmapDrawable.createFromStream(inputStream, \"\");\r\n\t\t\t\t\tbitmapDrawable.setAlpha(255);\r\n\r\n\t\t\t\t\tmSubjectDimmingOverlay = bitmapDrawable.getConstantState().newDrawable().mutate();\r\n\t\t\t\t\tmSubjectDimmingOverlay.setTint(Color.BLACK);\r\n\r\n\t\t\t\t\tmLockScreenSubject.setBackground(new LayerDrawable(new Drawable[]{bitmapDrawable, mSubjectDimmingOverlay}));\r\n\t\t\t\t\tlockScreenSubjectCacheValid = true;\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Throwable ignored) {}\r\n\t\t\t}\r\n\r\n\t\t\tif(lockScreenSubjectCacheValid) {\r\n\t\t\t\tmLockScreenSubject.getBackground().setAlpha(DWOpacity);\r\n\r\n\t\t\t\tif(!state.equals(\"KEYGUARD\")) { //AOD\r\n\t\t\t\t\tmSubjectDimmingOverlay.setAlpha(192 /*Math.round(192 * (DWOpacity / 255f))*/);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t//this is the dimmed wallpaper coverage\r\n\t\t\t\t\tmSubjectDimmingOverlay.setAlpha(Math.round(getFloatField(mScrimController, \"mScrimBehindAlphaKeyguard\") * 240)); //A tad bit lower than max. show it a bit lighter than other stuff\r\n\t\t\t\t\tmWallpaperDimmingOverlay.setAlpha(getFloatField(mScrimController, \"mScrimBehindAlphaKeyguard\"));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmWallpaperBackground.setVisibility(VISIBLE);\r\n\t\t\t\tmLockScreenSubject.setVisibility(VISIBLE);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(mLayersCreated)\r\n\t\t{\r\n\t\t\tmLockScreenSubject.setVisibility(GONE);\r\n\r\n\t\t\tif (state.equals(\"UNLOCKED\")) {\r\n\t\t\t\tmWallpaperBackground.setVisibility(GONE);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate int getWallpaperFlag(Object canvasEngine) {\r\n\t\treturn (int) callMethod(canvasEngine, \"getWallpaperFlags\");\r\n\t}\r\n\r\n\tprivate void invalidateLSWSC() //invalidate lock screen wallpaper subject cache\r\n\t{\r\n\t\tlockScreenSubjectCacheValid = false;\r\n\t\tif(mLayersCreated) {\r\n\t\t\tmLockScreenSubject.post(() -> {\r\n\t\t\t\tmLockScreenSubject.setVisibility(GONE);\r\n\t\t\t\tmLockScreenSubject.setBackground(null);\r\n\t\t\t\tmWallpaperBackground.setVisibility(GONE);\r\n\t\t\t\tmWallpaperBitmapContainer.setBackground(null);\r\n\t\t\t});\r\n\t\t}\r\n\t\ttry {\r\n\t\t\t//noinspection ResultOfMethodCallIgnored\r\n\t\t\tnew File(Constants.getLockScreenSubjectCachePath(mContext)).delete();\r\n\t\t}\r\n\t\tcatch (Throwable ignored){}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean listensTo(String packageName) {\r\n\t\treturn listenPackage.equals(packageName) && !XPLauncher.isChildProcess;\r\n\t}\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/sh/siava/pixelxpert/modpacks/systemui/DepthWallpaper.java b/app/src/main/java/sh/siava/pixelxpert/modpacks/systemui/DepthWallpaper.java
--- a/app/src/main/java/sh/siava/pixelxpert/modpacks/systemui/DepthWallpaper.java	(revision 3f482421a428d42c1c6c16110984d6b1b46cb330)
+++ b/app/src/main/java/sh/siava/pixelxpert/modpacks/systemui/DepthWallpaper.java	(date 1726663544229)
@@ -1,15 +1,19 @@
 package sh.siava.pixelxpert.modpacks.systemui;
 
+import static android.graphics.Color.GREEN;
+import static android.graphics.Color.RED;
 import static android.view.View.GONE;
 import static android.view.View.VISIBLE;
 import static de.robv.android.xposed.XposedBridge.hookAllConstructors;
 import static de.robv.android.xposed.XposedBridge.hookAllMethods;
+import static de.robv.android.xposed.XposedBridge.log;
 import static de.robv.android.xposed.XposedHelpers.callMethod;
 import static de.robv.android.xposed.XposedHelpers.findClass;
 import static de.robv.android.xposed.XposedHelpers.findClassIfExists;
 import static de.robv.android.xposed.XposedHelpers.getFloatField;
 import static de.robv.android.xposed.XposedHelpers.getObjectField;
 import static sh.siava.pixelxpert.modpacks.XPrefs.Xprefs;
+import static sh.siava.pixelxpert.modpacks.utils.toolkit.ReflectionTools.dumpIDs;
 
 import android.annotation.SuppressLint;
 import android.app.WallpaperManager;
@@ -103,16 +107,31 @@
 			}
 		});
 
+		Class<?> SmartspaceSectionClass = findClassIfExists("com.android.systemui.keyguard.ui.view.layout.sections.SmartspaceSection", lpParam.classLoader);
+
+		hookAllMethods(SmartspaceSectionClass, "addViews", new XC_MethodHook() {
+			@Override
+			protected void afterHookedMethod(MethodHookParam param) throws Throwable {
+				View vg = (View) param.args[0];
+				dumpIDs((View) vg.getParent());
+			}
+		});
+
 		hookAllMethods(CentralSurfacesImplClass, "start", new XC_MethodHook() {
 			@Override
 			protected void afterHookedMethod(MethodHookParam param) throws Throwable {
+				log("started");
 				if(!DWallpaperEnabled) return;
 
 				View scrimBehind = (View) getObjectField(mScrimController, "mScrimBehind");
 				ViewGroup rootView = (ViewGroup) scrimBehind.getParent();
 
+				rootView.setBackgroundColor(GREEN);
+
 				@SuppressLint("DiscouragedApi")
-				ViewGroup targetView = rootView.findViewById(mContext.getResources().getIdentifier("notification_container_parent", "id", mContext.getPackageName()));
+				ViewGroup targetView = rootView.findViewById(mContext.getResources().getIdentifier("notification_panel", "id", mContext.getPackageName()));
+
+				targetView.setBackgroundColor(RED);
 
 				if(!mLayersCreated) {
 					createLayers();
@@ -120,7 +139,8 @@
 
 				rootView.addView(mWallpaperBackground, 0);
 
-				targetView.addView(mLockScreenSubject,1);
+				targetView.addView(mLockScreenSubject);
+				mLockScreenSubject.bringToFront();
 			}
 		});
 
@@ -244,7 +264,9 @@
 			compressedBitmap.close();
 		}
 		catch (Throwable ignored)
-		{}
+		{
+			log(ignored);
+		}
 
 		if(!cacheIsValid)
 		{
@@ -309,7 +331,8 @@
 					mLockScreenSubject.setBackground(new LayerDrawable(new Drawable[]{bitmapDrawable, mSubjectDimmingOverlay}));
 					lockScreenSubjectCacheValid = true;
 				}
-				catch (Throwable ignored) {}
+				catch (Throwable ignored) {			log(ignored);
+				}
 			}
 
 			if(lockScreenSubjectCacheValid) {
@@ -357,7 +380,8 @@
 			//noinspection ResultOfMethodCallIgnored
 			new File(Constants.getLockScreenSubjectCachePath(mContext)).delete();
 		}
-		catch (Throwable ignored){}
+		catch (Throwable ignored){			log(ignored);
+		}
 	}
 
 	@Override
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"../../../../layout/custom_preview.xml\" value=\"0.3211050724637681\" />\r\n        <entry key=\"..\\:/Software/Android_Tools/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/lock_screen_prefs.xml\" value=\"0.17831813576494426\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/SystemUI/src/main/res/drawable/qs_security_footer_background.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/SystemUI/src/main/res/drawable-v24/ic_launcher_foreground.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/SystemUI/src/main/res/drawable/ic_launcher_background.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/brightness_progress_full_drawable.xml\" value=\"0.1109375\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/d.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/dd.xml\" value=\"0.116\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/exapnd_icon.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/fingerprint_bg.xml\" value=\"0.12\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/fingerprint_bg_transparent.xml\" value=\"0.10989583333333333\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_arrow_back.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_brightness_full.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_brightness_low.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_brightness_medium.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_chevron_down.xml\" value=\"0.111\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_chevron_up.xml\" value=\"0.111\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_launcher_background.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_launcher_foreground.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_settings_lockscreen.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_settings_miscellaneous.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_settings_navigation.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_settings_quicksettings.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_settings_statusbar.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_sysbar_power.xml\" value=\"0.10625\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_sysbar_volume_minus.xml\" value=\"0.10989583333333333\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_sysbar_volume_plus.xml\" value=\"0.10989583333333333\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/ic_volte.xml\" value=\"0.134\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/messages.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/network_traffic_arrows.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/power.xml\" value=\"0.10989583333333333\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/qs_footer_action_chip_background.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/qs_security_footer_background.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/rectangle.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/stat_sys_network_traffic_spacer.xml\" value=\"0.11\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/sync.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/volume_minus.xml\" value=\"0.10989583333333333\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/drawable/volume_plus.xml\" value=\"0.10989583333333333\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/foreground_service_dungeon_row.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/power.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/recent_apps.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/rectangle.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/sbnetowrk.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/settings_activity.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/slider_pref.xml\" value=\"0.16\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/sliderlayout.xml\" value=\"0.15\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/status_bar.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/tt.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/udfps_keyguard_view.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/volume_minus.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/layout/volume_plus.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/menu/main_menu.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml\" value=\"0.11145833333333334\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/mipmap-anydpi-v31/ic_launcher_round.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/gesture_nav_perfs.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/header_preferences.xml\" value=\"0.18\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/lock_screen_prefs.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/messages_preferences.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/misc_prefs.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/nav_prefs.xml\" value=\"0.18\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/quicksettings_prefs.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/root_preferences.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/sbqs_network_prefs.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/screen_off_prefs.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/statusbar_batterybar_prefs.xml\" value=\"0.18\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/statusbar_clock_prefs.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/statusbar_settings.xml\" value=\"0.18\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/sync_preferences.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/theming_prefs.xml\" value=\"0.18\" />\r\n        <entry key=\"..\\:/Users/83018/AndroidStudioProjects/AOSPMods/app/src/main/res/xml/three_button_prefs.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/Submodules/RangeSliderPrefrence/src/main/res/drawable-v24/ic_launcher_foreground.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/Submodules/RangeSliderPrefrence/src/main/res/mipmap-anydpi-v26/ic_launcher.xml\" value=\"0.136\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/drawable/collapse_icon.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/drawable/exapnd_icon.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/drawable/ic_chevron_down.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/drawable/ic_chevron_up.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/drawable/ic_launcher_foreground.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/drawable/ic_notification_foreground.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/drawable/ic_settings_lockscreen.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/activity_update.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/content_update.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/content_update2.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/fragment_first.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/fragment_second.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/range_slider.xml\" value=\"0.15\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/settings_activity.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/string_formatter_manual.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/test.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/layout/update_fragment.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/menu/main_menu.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/mipmap-anydpi-v31/ic_launcher.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/mipmap-anydpi-v31/ic_launcher_round.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/xml/gesture_nav_prefs.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/xml/header_preferences.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/xml/lock_screen_prefs.xml\" value=\"0.30676552363299353\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/xml/lsqs_custom_text.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/xml/misc_prefs.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/xml/own_prefs_header.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/xml/range_screen.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/xml/statusbar_settings.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/83018/Documents/GitHub/AOSPMods/app/src/main/res/xml/three_button_prefs.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/layout/activity_update.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/layout/content_update.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/layout/settings_activity.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/layout/string_formatter_manual.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/layout/update_fragment.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/menu/main_menu.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/gesture_nav_perfs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/header_preferences.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/lock_screen_prefs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/lsqs_custom_text.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/misc_prefs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/nav_prefs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/quicksettings_prefs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/sbqs_network_prefs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/statusbar_batterybar_prefs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/statusbar_batteryicon_prefs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/statusbar_clock_prefs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/statusbar_settings.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"..\\:/Users/elbay/StudioProjects/AOSPMods_edit/app/src/main/res/xml/theming_prefs.xml\" value=\"0.18541666666666667\" />\r\n        <entry key=\"app/src/main/res/drawable/collapse_icon.xml\" value=\"0.3333333333333333\" />\r\n        <entry key=\"app/src/main/res/drawable/exapnd_icon.xml\" value=\"0.4755\" />\r\n        <entry key=\"app/src/main/res/layout/settings_activity.xml\" value=\"0.3374094202898551\" />\r\n        <entry key=\"app/src/main/res/layout/switch_item.xml\" value=\"0.3374094202898551\" />\r\n        <entry key=\"app/src/main/res/menu/main_menu.xml\" value=\"0.4171875\" />\r\n        <entry key=\"app/src/main/res/xml/gesture_nav_perfs.xml\" value=\"0.6904541241890639\" />\r\n        <entry key=\"app/src/main/res/xml/lock_screen_prefs.xml\" value=\"0.3374094202898551\" />\r\n        <entry key=\"app/src/main/res/xml/misc_prefs.xml\" value=\"0.4444444444444444\" />\r\n        <entry key=\"app/src/main/res/xml/nav_prefs.xml\" value=\"0.3374094202898551\" />\r\n        <entry key=\"app/src/main/res/xml/statusbar_batteryicon_prefs.xml\" value=\"0.3374094202898551\" />\r\n        <entry key=\"app/src/main/res/xml/statusbar_clock_prefs.xml\" value=\"0.29945328031809143\" />\r\n        <entry key=\"app/src/main/res/xml/theming_prefs.xml\" value=\"0.4444444444444444\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"NullableNotNullManager\">\r\n    <option name=\"myDefaultNullable\" value=\"androidx.annotation.Nullable\" />\r\n    <option name=\"myDefaultNotNull\" value=\"androidx.annotation.NonNull\" />\r\n    <option name=\"myNullables\">\r\n      <value>\r\n        <list size=\"15\">\r\n          <item index=\"0\" class=\"java.lang.String\" itemvalue=\"org.checkerframework.checker.nullness.compatqual.NullableDecl\" />\r\n          <item index=\"1\" class=\"java.lang.String\" itemvalue=\"org.jetbrains.annotations.Nullable\" />\r\n          <item index=\"2\" class=\"java.lang.String\" itemvalue=\"androidx.annotation.Nullable\" />\r\n          <item index=\"3\" class=\"java.lang.String\" itemvalue=\"org.eclipse.jdt.annotation.Nullable\" />\r\n          <item index=\"4\" class=\"java.lang.String\" itemvalue=\"com.android.annotations.Nullable\" />\r\n          <item index=\"5\" class=\"java.lang.String\" itemvalue=\"edu.umd.cs.findbugs.annotations.Nullable\" />\r\n          <item index=\"6\" class=\"java.lang.String\" itemvalue=\"androidx.annotation.RecentlyNullable\" />\r\n          <item index=\"7\" class=\"java.lang.String\" itemvalue=\"android.support.annotation.Nullable\" />\r\n          <item index=\"8\" class=\"java.lang.String\" itemvalue=\"javax.annotation.CheckForNull\" />\r\n          <item index=\"9\" class=\"java.lang.String\" itemvalue=\"javax.annotation.Nullable\" />\r\n          <item index=\"10\" class=\"java.lang.String\" itemvalue=\"org.checkerframework.checker.nullness.qual.Nullable\" />\r\n          <item index=\"11\" class=\"java.lang.String\" itemvalue=\"org.checkerframework.checker.nullness.compatqual.NullableType\" />\r\n          <item index=\"12\" class=\"java.lang.String\" itemvalue=\"org.jspecify.nullness.Nullable\" />\r\n          <item index=\"13\" class=\"java.lang.String\" itemvalue=\"org.jspecify.annotations.Nullable\" />\r\n          <item index=\"14\" class=\"java.lang.String\" itemvalue=\"jakarta.annotation.Nullable\" />\r\n        </list>\r\n      </value>\r\n    </option>\r\n    <option name=\"myNotNulls\">\r\n      <value>\r\n        <list size=\"14\">\r\n          <item index=\"0\" class=\"java.lang.String\" itemvalue=\"androidx.annotation.RecentlyNonNull\" />\r\n          <item index=\"1\" class=\"java.lang.String\" itemvalue=\"org.checkerframework.checker.nullness.qual.NonNull\" />\r\n          <item index=\"2\" class=\"java.lang.String\" itemvalue=\"com.android.annotations.NonNull\" />\r\n          <item index=\"3\" class=\"java.lang.String\" itemvalue=\"androidx.annotation.NonNull\" />\r\n          <item index=\"4\" class=\"java.lang.String\" itemvalue=\"org.checkerframework.checker.nullness.compatqual.NonNullType\" />\r\n          <item index=\"5\" class=\"java.lang.String\" itemvalue=\"edu.umd.cs.findbugs.annotations.NonNull\" />\r\n          <item index=\"6\" class=\"java.lang.String\" itemvalue=\"org.checkerframework.checker.nullness.compatqual.NonNullDecl\" />\r\n          <item index=\"7\" class=\"java.lang.String\" itemvalue=\"android.support.annotation.NonNull\" />\r\n          <item index=\"8\" class=\"java.lang.String\" itemvalue=\"org.jetbrains.annotations.NotNull\" />\r\n          <item index=\"9\" class=\"java.lang.String\" itemvalue=\"javax.annotation.Nonnull\" />\r\n          <item index=\"10\" class=\"java.lang.String\" itemvalue=\"org.eclipse.jdt.annotation.NonNull\" />\r\n          <item index=\"11\" class=\"java.lang.String\" itemvalue=\"org.jspecify.nullness.NonNull\" />\r\n          <item index=\"12\" class=\"java.lang.String\" itemvalue=\"org.jspecify.annotations.NonNull\" />\r\n          <item index=\"13\" class=\"java.lang.String\" itemvalue=\"jakarta.annotation.Nonnull\" />\r\n        </list>\r\n      </value>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_17\" default=\"true\" project-jdk-name=\"jbr-17\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 3f482421a428d42c1c6c16110984d6b1b46cb330)
+++ b/.idea/misc.xml	(date 1726599638046)
@@ -1,3 +1,4 @@
+<?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="DesignSurface">
     <option name="filePathToZoomLevelMap">
@@ -136,6 +137,11 @@
         <entry key="app/src/main/res/xml/theming_prefs.xml" value="0.4444444444444444" />
       </map>
     </option>
+  </component>
+  <component name="EntryPointsManager">
+    <list size="1">
+      <item index="0" class="java.lang.String" itemvalue="android.annotation.SuppressLint" />
+    </list>
   </component>
   <component name="NullableNotNullManager">
     <option name="myDefaultNullable" value="androidx.annotation.Nullable" />
